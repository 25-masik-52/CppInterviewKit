#### **1. Определение**  
- **Процесс** — это изолированный экземпляр программы со своей виртуальной памятью и ресурсами.  
- **Поток (thread)** — это легковесный поток выполнения внутри процесса, разделяющий память и ресурсы с другими потоками.  

#### **2. Основные различия**  
| **Критерий**           | **Процесс**                          | **Поток**                            |
| ---------------------- | ------------------------------------ | ------------------------------------ |
| **Память**             | Изолированная                        | Общая с другими потоками             |
| **Запуск**             | Медленный (требует отдельной среды)  | Быстрый (использует память процесса) |
| **Связь**              | IPC (сигналы, pipe, shared memory)   | Общие переменные + синхронизация     |
| **Отказоустойчивость** | Падение не влияет на другие процессы | Падение потока убивает весь процесс  |

#### **3. Создание потока в C++**  
Для работы с потоками используется библиотека `<thread>`.  

**Способы создания потока:**  
1. **Через функцию:**  
   ```cpp
   #include <thread>
   #include <iostream>

   void task() {
       std::cout << "Hello from thread!\n";
   }

   int main() {
       std::thread t(task);
       t.join(); // Ожидание завершения потока
       return 0;
   }
   ```  

2. **Через лямбда-выражение:**  
   ```cpp
   std::thread t([]() {
       std::cout << "Hello from lambda thread!\n";
   });
   t.join();
   ```  

3. **Через метод класса:**  
   ```cpp
   class Worker {
   public:
       void run() {
           std::cout << "Working in thread!\n";
       }
   };

   int main() {
       Worker worker;
       std::thread t(&Worker::run, &worker);
       t.join();
       return 0;
   }
   ```  

4. **Передача аргументов в поток:**  
   ```cpp
   void printNumber(int num) {
       std::cout << "Number: " << num << "\n";
   }

   int main() {
       std::thread t(printNumber, 42);
       t.join();
       return 0;
   }
   ```  

#### **4. Когда использовать процессы, а когда потоки?**  
- **Потоки:**  
  - Высокая скорость выполнения (например, параллельные вычисления).  
  - Общие ресурсы (например, кэш в памяти).  
  - Требуется синхронизация (мьютексы, атомики).  

- **Процессы:**  
  - Изоляция (например, вкладки браузера).  
  - Безопасность (падение одного процесса не влияет на другие).  
  - Используются в POSIX через `fork()`.  

#### **5. Плюсы и минусы**  
| **Потоки**                             | **Процессы**                                    |
| -------------------------------------- | ----------------------------------------------- |
| ✅ Быстрый запуск и переключение.       | ✅ Изолированность и безопасность.               |
| ❌ Риск гонок данных (race conditions). | ❌ Медленный запуск и больше накладных расходов. |

#### **6. Best Practices**  
1. Используйте `std::thread` для простых задач.  
2. Для сложной синхронизации применяйте `std::mutex`, `std::atomic`.  
3. Избегайте гонок данных с помощью примитивов синхронизации.  
4. В C++23 появится `std::process` для кросс-платформенной работы с процессами.  

**Идеальный ответ:**
*"Процесс — это изолированный экземпляр программы, а поток — легковесный поток выполнения внутри процесса. Потоки делят память, процессы изолированы. В C++ потоки создаются через `std::thread` с передачей функции, лямбды или метода класса. Потоки быстры, но требуют синхронизации; процессы надежны, но медленны. Best practice: используйте потоки для параллельных задач, процессы — для изоляции."*