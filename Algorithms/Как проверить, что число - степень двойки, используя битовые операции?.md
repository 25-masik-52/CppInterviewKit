#### **1. Определение**  
Число является **степенью двойки**, если оно имеет вид \(2^k\), где \(k\) — целое неотрицательное число. В битовом представлении такое число содержит **ровно одну единицу** (например, `1` (`001`), `2` (`010`), `4` (`100`) и т.д.).

#### **2. Основные понятия**  
- **Битовое представление:** Степень двойки в двоичной форме — это единица, за которой следует ноль или более нулей (например, `8 = 1000`).  
- **Отрицательные числа и ноль:** Не считаются степенями двойки.  

#### **3. Реализация на C++**  

**Способ 1: Использование `n & (n - 1)`**  
Если `n` — степень двойки, то `n & (n - 1)` равно нулю.  
```cpp
bool isPowerOfTwo(int n) {
    return n > 0 && (n & (n - 1)) == 0;
}
```
**Как работает:**  
- Для `n = 8` (`1000`):  
  `n - 1 = 7` (`0111`).  
  `1000 & 0111 = 0000` → условие выполняется.  
- Для `n = 6` (`0110`):  
  `0110 & 0101 = 0100` → не ноль.  

**Способ 2: Использование `n & (-n)`**  
Если `n` — степень двойки, то `n & (-n)` равно `n`.  
```cpp
bool isPowerOfTwo(int n) {
    return n > 0 && (n & -n) == n;
}
```
**Как работает:**  
- Для `n = 8` (`1000`):  
  `-n = ~8 + 1 = 111...1000` (дополнительный код).  
  `1000 & 111...1000 = 1000` → условие выполняется.  

**Способ 3: Подсчёт единичных битов (менее эффективен)**  
```cpp
bool isPowerOfTwo(int n) {
    if (n <= 0) return false;
    int count = 0;
    while (n) {
        count += n & 1;
        n >>= 1;
    }
    return count == 1;
}
```
**Недостатки:**  
- Использует цикл, что менее эффективно.  

#### **4. Применение и примеры**  
- **Примеры степеней двойки:** `1`, `2`, `4`, `8`, `16` и т.д.  
- **Где используется:**  
  - Проверка размера буфера (должен быть степенью двойки).  
  - Оптимизация алгоритмов (например, бинарный поиск).  

#### **5. Плюсы и минусы**  
| **Способ**             | **Плюсы**                    | **Минусы**                          |
| ---------------------- | ---------------------------- | ----------------------------------- |
| **`n & (n - 1) == 0`** | Быстро (`O(1)`), нет циклов. | Требует понимания битовых операций. |
| **`n & (-n) == n`**    | Аналогично первому способу.  | Менее интуитивно понятен.           |
| **Подсчёт единиц**     | Прост для понимания.         | Медленный (`O(log n)`).             |

#### **6. Best Practices**  
- **Оптимальный выбор:**  
  - Используйте `n & (n - 1) == 0` — это самый быстрый и понятный метод.  
- **Ошибки:**  
  - Проверка `n > 0` обязательна (степени двойки всегда положительны).  

**Идеальный ответ:**
_Чтобы проверить, является ли число степенью двойки:_
_1. Убедитесь, что `n > 0`._
_2. Используйте битовую операцию:_
```cpp
bool isPowerOfTwo(int n) {
	return n > 0 && (n & (n - 1)) == 0;
}
```  
_**Объяснение:**_
_- Если `n` — степень двойки, то `n & (n - 1)` обнуляет единственную единицу в битовом представлении._
_- Пример: `8 & 7 = 0` (`1000 & 0111 = 0000`)._
_**Примечание:**_
_- Для отрицательных чисел и нуля функция вернет `false`._
_- Альтернатива — `(n & -n) == n`, но первый способ предпочтительнее._