#### **1. Определение + Пример кода**  
**Конструктор** — это специальный метод класса, который автоматически вызывается при создании объекта. Он инициализирует поля класса и выделяет необходимые ресурсы.  

**Пример:**  
```cpp
class Person {
public:
    // Конструктор по умолчанию
    Person() : name("Unknown"), age(0) {}

    // Параметризованный конструктор
    Person(const std::string& name, int age) : name(name), age(age) {}

    // Конструктор копирования
    Person(const Person& other) : name(other.name), age(other.age) {}

private:
    std::string name;
    int age;
};
```  

#### **2. Виды конструкторов в C++**  

| **Тип конструктора**      | **Описание**                                                                 | **Пример**                                                                 |
|---------------------------|-----------------------------------------------------------------------------|----------------------------------------------------------------------------|
| **Конструктор по умолчанию** | Не принимает аргументов. Если не определен, компилятор генерирует его автоматически. | `Person() : name(""), age(0) {}` |
| **Параметризованный**     | Принимает аргументы для инициализации полей.                                 | `Person(const std::string& n, int a) : name(n), age(a) {}` |
| **Конструктор копирования** | Создает объект как копию существующего. Если не определен, генерируется компилятором. | `Person(const Person& other) : name(other.name), age(other.age) {}` |
| **Конструктор перемещения** (C++11) | Принимает rvalue-ссылку для эффективного переноса ресурсов. | `Person(Person&& other) noexcept : name(std::move(other.name)), age(other.age) {}` |
| **Делегирующий** (C++11)  | Вызывает другой конструктор того же класса для избежания дублирования кода. | `Person() : Person("Unknown", 0) {}` |

#### **3. Может ли конструктор быть виртуальным?**  
**Нет, конструктор не может быть виртуальным.**  

**Причины:**  
1. **Логическая противоречивость:**  
   - Виртуальные методы требуют наличия **vtable**, которая создается **после** вызова конструктора.  
   - Конструктор вызывается **для создания объекта**, а виртуальные методы работают **с уже созданным объектом**.  

2. **Техническая невозможность:**  
   ```cpp
   class Base {
   public:
       virtual Base() {}  // Ошибка компиляции: конструктор не может быть виртуальным
   };
   ```  

**Альтернатива:**  
- Использовать **фабричные методы** или **виртуальный clone()** для полиморфного создания объектов.  

#### **4. Подводные камни и ошибки**  
- **Ошибки:**  
  - Не инициализировать поля в конструкторе → неопределенное поведение.  
  - Бесконечная рекурсия в делегирующем конструкторе:  
    ```cpp
    class Circle {
    public:
        Circle() : Circle(1.0) {}  // OK
        Circle(double r) : Circle() {}  // Ошибка: бесконечная рекурсия
    };
    ```  
- **Антипаттерны:**  
  - Избыточные конструкторы (дублирование кода).  
  - Игнорирование **noexcept** для перемещающего конструктора.  

#### **5. Пример из практики**  
**Ситуация:** Класс для работы с динамическими массивами.  
```cpp
class DynamicArray {
public:
    // Конструктор по умолчанию
    DynamicArray() : data(nullptr), size(0) {}

    // Параметризованный конструктор
    DynamicArray(int size) : data(new int[size]), size(size) {}

    // Конструктор копирования
    DynamicArray(const DynamicArray& other) : data(new int[other.size]), size(other.size) {
        std::copy(other.data, other.data + size, data);
    }

    // Конструктор перемещения
    DynamicArray(DynamicArray&& other) noexcept : data(other.data), size(other.size) {
        other.data = nullptr;  // Обнуляем указатель у исходного объекта
    }

    ~DynamicArray() { delete[] data; }

private:
    int* data;
    int size;
};
```  

#### **Ключевые моменты для собеседования:**  
✔ **Конструктор** — метод для инициализации объекта.  
✔ **5 видов конструкторов:** по умолчанию, параметризованный, копирования, перемещения, делегирующий.  
✔ **Конструктор не может быть виртуальным** — это ошибка компиляции.  

**Ошибка новичка:**  
```cpp
class Resource {
public:
    Resource() { ptr = new int[100]; }
    ~Resource() { delete[] ptr; }  // Деструктор
private:
    int* ptr;
};

// Проблема: забыли конструктор копирования и перемещения → double free при копировании.
```  

**Идеальный ответ:**
*«Конструктор — это метод, инициализирующий объект при создании. В C++ есть 5 типов конструкторов: по умолчанию, параметризованный, копирования, перемещения и делегирующий. Конструктор не может быть виртуальным, так как он вызывается до формирования vtable. Для полиморфного создания объектов используют фабрики или метод clone().»*